$ uid = fn(name) {
	$ id = 0
	-> fn() {
		id += 1
		-> id
	}
}()

$ vec2 = fn(x, y) {
	-> {
		id: uid(),
		x: fn() {
			-> x
		},
		y: fn() {
			-> y
		},
		print: fn() {
			print(x, y)
		},
		add: fn(p) {
			-> vec2(x + p.x(), y + p.y())
		},
	}
}

$ a = vec2(1, 3)
$ b = a.add(vec2(5, 2))

a.print()
b.print()
print("a.id:", a.id)
print("b.id:", b.id)

-> b.x()
