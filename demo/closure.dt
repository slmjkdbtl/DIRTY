$ uid = ~ (name) {
	$ id = 0
	~> ~ () {
		id += 1
		~> id
	}
} ()

$ vec2 = ~ (x, y) {
	~> {
		id: uid(),
		x: ~ () {
			~> x
		},
		y: ~ () {
			~> y
		},
		print: ~ () {
			print(x, y)
		},
		add: ~ (p) {
			~> vec2(x + p.x(), y + p.y())
		},
	}
}

$ a = vec2(1, 3)
$ b = a.add(vec2(5, 2))

a.print()
b.print()
print("a.id:", a.id)
print("b.id:", b.id)

~> b.x()
